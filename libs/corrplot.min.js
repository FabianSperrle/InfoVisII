/*! d3-corrplot - v0.0.1 - 2015-03-01 - Jeremy Kahn */
!function(){function a(a){"use strict";var b=a.Corrplot=function(a){return a=a||{},this._readOnlyVar="read only",this.readAndWrite="read and write",this};b.prototype.getReadOnlyVar=function(){return this._readOnlyVar},b.prototype.chainableMethod=function(){return this}}function b(a){"use strict";var b=a.Corrplot;b.CorrplotHelper=function(){return this},b.prototype.alternateGetReadOnlyVar=function(){return this._readOnlyVar},d3.chart("corrplot",{initialize:function(){function a(a){var c=d3.select(this).selectAll(".cell").data(a);c.enter().append("path").attr("class","cell").on("mouseover",b._mouseover).on("mouseout",b._mouseout),c.exit().remove(),c.attr("transform",function(a){var c=b.x.rangeBand()/2;return"translate("+(b.x(a.x)+c)+","+c+")"}).attr("fill",b.c).attr("d",function(a){return b._shape(a,b.x.rangeBand())})}var b=this;this._loadDefaults(b);var c=this.base.attr("height",this.w+this.margin.top+this.margin.bottom).attr("width",this.w+this.margin.left+this.margin.right).style("margin-left",-this.margin.left+"px").append("g").classed("corrplot",!0).attr("transform","translate ("+this.margin.left+","+this.margin.top+")");this.layer("rows",c,{dataBind:function(a){var b=this.chart(),c=a.matrix,d=a.order;return void 0===d&&(d=d3.range(a.nodes.length)),b.x.domain(d),c=c.map(function(a,b){return a.map(function(a,c){return{x:c,y:b,z:a}})}),this.selectAll(".row").data(c)},insert:function(){this.chart();return this.append("g").classed("row",!0)},events:{merge:function(){var b=this.chart();return this.attr("transform",function(a,c){return"translate(0,"+b.x(c)+")"}).each(a)},exit:function(){this.remove()}}}),this.layer("rows-header",c.append("g"),{dataBind:function(a){var b=(this.chart(),a.nodes);return b.forEach(function(a,b){a.index=b}),this.selectAll(".row-header").data(b)},insert:function(){this.chart();return this.append("text").classed("row-header",!0)},events:{merge:function(){var a=this.chart();return this.attr("transform",function(b,c){return"translate(0,"+a.x(c)+")"}).attr("x",-6).attr("y",a.x.rangeBand()/2).attr("dy",".32em").attr("text-anchor","end").text(function(a){return a.name})},exit:function(){this.remove()}}}),this.layer("cols-header",c.append("g"),{dataBind:function(a){var b=(this.chart(),a.nodes);return this.selectAll(".col-header").data(b)},insert:function(){this.chart();return this.append("text").classed("col-header",!0)},events:{merge:function(){var a=this.chart();return this.attr("transform",function(b,c){return"translate("+a.x(c)+")rotate("+a.colRotation+")"}).attr("x",6).attr("y",a.x.rangeBand()/2).attr("dy",".32em").attr("text-anchor","start").text(function(a){return a.name})},exit:function(){this.remove()}}})},_loadDefaults:function(){this.x=d3.scale.ordinal(),this.width(720);var a=d3.scale.linear().domain([-1,0,1]).range(["#ef8a62","#f7f7f7","#67a9cf"]);this.color(function(b){return a(b.z)}),this.duration(0),this.margin({top:80,right:0,bottom:10,left:80}),this.rotatecols(-90),this.shape(function(a,c){return b.Shape.Square(c)}),this.mouseover(function(){}),this.mouseout(function(){})},width:function(a){return 0===arguments.length?this.w:(this.w=a,this.x=this.x.rangeBands([0,a]),this.reDraw(),this)},margin:function(a){return 0===arguments.length?this.margin:(this.margin=a,this)},rotatecols:function(a){return 0===arguments.length?this.colRotation:(this.colRotation=a,this)},color:function(a){return 0===arguments.length?this.c:(this.c=a,this)},duration:function(a){return 0==arguments.length?this.d:(this.d=a,this)},mouseover:function(a){return 0==arguments.length?this._mouseover:(this._mouseover=a,this)},mouseout:function(a){return 0==arguments.length?this._mouseout:(this._mouseout=a,this)},order:function(a){if(0==arguments.length)return this.x.domain();if(0===this.x.domain().length)this.x.domain(a);else{this.x.domain(a);var b=this.x,c=this.w,d=this.d,e=this.colRotation,f=this.base.transition().duration(d);f.selectAll(".row").delay(function(a,e){return b(e)/c*d}).attr("transform",function(a,c){return"translate(0,"+b(c)+")"}).selectAll(".cell").delay(function(a){return b(a.x)/c*d}).attr("transform",function(a){var c=b.rangeBand()/2;return"translate("+(b(a.x)+c)+","+c+")"}),f.selectAll(".row-header").delay(function(a,e){return b(e)/c*d}).attr("transform",function(a,c){return"translate(0,"+b(c)+")"}),f.selectAll(".col-header").delay(function(a,e){return b(e)/c*d}).attr("transform",function(a,c){return"translate("+b(c)+")rotate("+e+")"})}return this},shape:function(a){if(0==arguments.length)return this._shape;if(void 0===this._shape)this._shape=a;else{this._shape=a;var b=this.x,c=this.d,d=this.base.transition().duration(c);d.selectAll(".cell").attr("d",function(c){return a(c,b.rangeBand())})}return this},drawAndSave:function(a){return this._data=a,this.draw(a),this},reDraw:function(){return this._data?(this.base.attr("height",this.w+this.margin.top+this.margin.bottom).attr("width",this.w+this.margin.left+this.margin.right),this.draw(this._data)):this}})}function c(a){"use strict";var b=a.Corrplot;b.CorrplotHelper=function(){return this},b.prototype.alternateGetReadOnlyVar=function(){return this._readOnlyVar}}function d(a){"use strict";var b=a.Corrplot;b.Order={Original:function(a){return Array.isArray(a)&&(a=a.length),"object"==typeof a&&(a=a.nodes.length),d3.range(a)},Alphabetical:function(a,b){return 1==arguments.length&&(b=function(a){return a}),d3.range(a.length).sort(function(c,d){return d3.ascending(b(a[c]),b(a[d]))})},AOE:function(a){Array.isArray(a)||(a=a.matrix);var b=numeric.eig(a).E.x,c=d3.range(a.length).map(function(a){var c=b[a][0],d=b[a][1];return Math.atan(d/c)+(c>0?0:Math.PI)});return d3.range(a.length).sort(function(a,b){return c[a]-c[b]})},FPC:function(a){Array.isArray(a)||(a=a.matrix);var b=numeric.eig(a).E.x,c=b.map(function(a){return a[0]});return d3.range(a.length).sort(function(a,b){return c[b]-c[a]})}}}function e(a){"use strict";var b=a.Corrplot;b.Shape={Square:function(a){return"M -"+a/2+",-"+a/2+" h "+a+" v "+a+" h -"+a+" Z"},Circle:function(a){return"M -"+a+",0 a "+a+","+a+" 0 1,0 "+2*a+",0 a "+a+","+a+" 0 1,0 -"+2*a+",0"},Ellipse:function(a,b,c){2===arguments.length&&(c=180);var d=Math.acos(a),e=b/2,f=d3.svg.line().x(function(a){return a.x*e}).y(function(a){return a.y*e});return f(d3.range(0,180).map(function(a){var b=a*Math.PI/90;return{x:Math.cos(b+d/2),y:Math.cos(b-d/2)}}))}},void 0!==d3.superformula&&(b.Shape={Square:function(a,b){return 1===arguments.length&&(b=180),d3.superformula().type("square").size(a*a).segments(b)()},Circle:function(a,b){return 1===arguments.length&&(b=180),d3.superformula().type("circle").size(a*a*2).segments(b)()},Ellipse:b.Shape.Ellipse})}function f(a){"use strict";var b=a.Corrplot,c=b.Submodule=function(){var a="Constructor Variable";this.instanceVariable=null,this._privateMethod(a)};c.prototype.publicMethod=function(a){return void 0!==a&&this._privateMethod(a),this.instanceVariable},c.prototype._privateMethod=function(a){return this.instanceVariable=a}}var g=Function,h=(new g("return this")(),function(g){return a(g),e(g),b(g),c(g),f(g),d(g),g.Corrplot});"function"==typeof define&&define.amd?define(function(){return h({})}):h(this)}(this);